{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash ~/.claude/hooks/format-and-validate.sh"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Read|Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash ~/.claude/hooks/file-guard.sh"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"[$(date +'%Y-%m-%d %H:%M:%S')] BASH: $CLAUDE_COMMAND\" >> ~/.claude/command-audit.log"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"Session started at $(date)\" >> ~/.claude/session.log"
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(which:*)",
      "Bash(wc:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(awk:*)",
      "Bash(sed:*)",
      "Bash(pwd)",
      "Bash(whoami)",
      "Bash(date:*)",
      "Bash(echo:*)",
      "Bash(printf:*)",
      "Bash(cd:*)",
      "Bash(tree:*)",

      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(git remote:*)",

      "Bash(uv sync:*)",
      "Bash(uv run pytest:*)",
      "Bash(uv run ruff check:*)",
      "Bash(uv run ruff format:*)",
      "Bash(uv run sqlfluff lint:*)",
      "Bash(uv run sqlfluff fix:*)",

      "Bash(markdownlint:*)",
      "Bash(yamllint:*)",
      "Bash(shellcheck:*)",
      "Bash(prettier --write:*)",
      "Bash(pre-commit run:*)",

      "Bash(uv run dagster list:*)",
      "Bash(uv run dbt compile:*)",
      "Bash(uv run dbt parse:*)",
      "Bash(uv run dbt docs generate:*)",

      "Bash(aws sts get-caller-identity)",

      "Bash(aws ecs describe-services:*)",
      "Bash(aws ecs describe-tasks:*)",
      "Bash(aws ecs describe-clusters:*)",
      "Bash(aws ecs describe-task-definition:*)",
      "Bash(aws ecs list-tasks:*)",
      "Bash(aws ecs list-services:*)",
      "Bash(aws ecs list-clusters:*)",

      "Bash(aws cloudformation describe-stacks:*)",
      "Bash(aws cloudformation describe-stack-events:*)",
      "Bash(aws cloudformation describe-stack-resources:*)",
      "Bash(aws cloudformation list-stacks:*)",

      "Bash(aws logs tail:*)",
      "Bash(aws logs describe-log-groups:*)",
      "Bash(aws logs describe-log-streams:*)",
      "Bash(aws logs get-log-events:*)",
      "Bash(aws logs filter-log-events:*)",

      "Bash(aws elbv2 describe-load-balancers:*)",
      "Bash(aws elbv2 describe-listeners:*)",
      "Bash(aws elbv2 describe-target-groups:*)",
      "Bash(aws elbv2 describe-target-health:*)",

      "Bash(aws ec2 describe-instances:*)",
      "Bash(aws ec2 describe-security-groups:*)",

      "Bash(aws ecr describe-repositories:*)",
      "Bash(aws ecr describe-images:*)",

      "Bash(aws lambda list-functions:*)",
      "Bash(aws lambda get-function:*)"
    ],
    "deny": [
      "Bash(rm -rf /)",
      "Bash(sudo rm:*)",
      "Bash(format:*)",
      "Bash(fdisk:*)",
      "Bash(mkfs:*)",
      "Bash(dd if=:*)",
      "Bash(chmod 777:*)",
      "Bash(chown -R:*)",
      "Bash(curl * | sh)",
      "Bash(wget * | sh)",
      "Bash(curl * | bash)",
      "Bash(wget * | bash)"
    ]
  },
  "memory": {
    "include": [
      "~/.claude/CLAUDE.md",
      "CLAUDE.md",
      ".claude/CLAUDE.md"
    ]
  }
}
